<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"        "http://www.w3.org/TR/html4/loose.dtd"><html><head>	<title>Blue Mango Multimedia Documentation</title>		<link rel="stylesheet" type="text/css" href="bmm-code.css" /></head><body><h1></h1><p><p> Handlers for importing/exporting QT content.</p><p></p><p><b>Handlers</b> - <a href="#qtExport">qtExport</a>, <a href="#qtGetExportSettings">qtGetExportSettings</a>, <a href="#qtNewMovie">qtNewMovie</a>, <a href="#qtSaveAs">qtSaveAs</a>, <a href="#qtSaveMovieSnapShotToFile or qtsnap2file">qtSaveMovieSnapShotToFile or qtsnap2file</a></p>	<div class="handler">	<a name="qtExport"></a><span class="handler-type">command </span><span class="handler-name">qtExport </span><span class="handler-params">MovieController, TrackNumber, FileName, pType, ExportVariable</span><br />	<div class="handler-details">		<span class="handler-desc-name">Description:</span>		<div class="handler-desc-body"> Lets a user export the current movie contents.  Uses QuickTime export dialog.</div>		<span class="handler-desc-name">Parameters:</span>		<div class="handler-desc-body">			<span class="param-name">MovieController:</span>			<span class="param-desc">Movie controller id of player to export.</span><br />			<span class="param-name">TrackNumber:</span>			<span class="param-desc">Index of track to export.  Set to 0 to export entire movie.</span><br />			<span class="param-name">FileName:</span>			<span class="param-desc">Path to file to save to.</span><br />			<span class="param-name">pType:</span>			<span class="param-desc">Type of exporter to use (movie, aiff, wav, dv, 3gpp, ipod)</span><br />			<span class="param-name">ExportVariable:</span>			<span class="param-desc">Name of variable containing data retrieved using qtGetExportSettings().</span><br />		</div>		<span class="handler-desc-name">Return:</span>		<div class="handler-desc-body">empty or error (These two are especially important - qterr,user canceled dialog, qterr,user aborted export).</div>	</div></div><div class="handler">	<a name="qtGetExportSettings"></a><span class="handler-type">command </span><span class="handler-name">qtGetExportSettings </span><span class="handler-params">MovieController, TrackIndex, pType, ExportVariable</span><br />	<div class="handler-details">		<span class="handler-desc-name">Description:</span>		<div class="handler-desc-body"> Displays a compression dialog allowing you to configure and store export settings.</div>		<span class="handler-desc-name">Parameters:</span>		<div class="handler-desc-body">			<span class="param-name">MovieController:</span>			<span class="param-desc">Movie controller id of player to export.</span><br />			<span class="param-name">TrackIndex:</span>			<span class="param-desc">Index of track to export.  0 for entire movie.</span><br />			<span class="param-name">pType:</span>			<span class="param-desc">Type of exporter to get (movie, aiff, wav, dv, 3gpp, ipod)</span><br />			<span class="param-name">ExportVariable:</span>			<span class="param-desc">Name of variable to store data in.</span><br />		</div>		<span class="handler-desc-name">Return:</span>		<div class="handler-desc-body">empty or error ("qterr,user canceled dialog" if user cancels.).</div>	</div></div><div class="handler">	<a name="qtNewMovie"></a><span class="handler-type">command </span><span class="handler-name">qtNewMovie </span><span class="handler-params">Path</span><br />	<div class="handler-details">		<span class="handler-desc-name">Description:</span>		<div class="handler-desc-body"> Creates an empty movie at the provided path.</div>		<span class="handler-desc-name">Parameters:</span>		<div class="handler-desc-body">			<span class="param-name">Path:</span>			<span class="param-desc">Path to movie to create.</span><br />		</div>		<span class="handler-desc-name">Return:</span>		<div class="handler-desc-body">empty</div>	</div></div><div class="handler">	<a name="qtSaveAs"></a><span class="handler-type">command </span><span class="handler-name">qtSaveAs </span><span class="handler-params">MovieController, Path, Flatten, SaveDisable, IsReplacing, SaveDimensions, Command, Target</span><br />	<div class="handler-details">		<span class="handler-desc-name">Description:</span>		<div class="handler-desc-body"> Saves a movie to the provided path.</div>		<span class="handler-desc-name">Parameters:</span>		<div class="handler-desc-body">			<span class="param-name">MovieController:</span>			<span class="param-desc">Movie controller id of player to export.</span><br />			<span class="param-name">Path:</span>			<span class="param-desc">Path to movie</span><br />			<span class="param-name">Flatten:</span>			<span class="param-desc">Boolean specifying whether or not to flatten the movie.</span><br />			<span class="param-name">SaveDisable:</span>			<span class="param-desc">Boolean specifying whether movie is save disabled.</span><br />			<span class="param-name">IsReplacing:</span>			<span class="param-desc">True if replacing a file that already exists.  If replacing and the existing movie cannot be deleted then "qterr,Error deleting existing file." is returned.  If you are replacing a file and don't pass this flag correctly and the movie is open by someone else funny things can happen.</span><br />			<span class="param-name">SaveDimensions:</span>			<span class="param-desc">Boolean - true saves the current rect of the movie as displayed in Revolution.  False saves movie with natural dimensions.  Default is false.</span><br />			<span class="param-name">Command:</span>			<span class="param-desc">Transcript handler to call with save progress updates.  This command will receive up to two parameters.  Param 1 is either "open", "close" or "update".  If param 1 = "update" then param 2 is the percentage of the save that is complete (1-100).  Leave empty for no message.  Note that if the SaveAs process is quick then QuickTime will not send a progress message.</span><br />			<span class="param-name">Target:</span>			<span class="param-desc">Long id of target to send command to.</span><br />		</div>		<span class="handler-desc-name">Return:</span>		<div class="handler-desc-body">empty or error</div>	</div></div><div class="handler">	<a name="qtSaveMovieSnapShotToFile or qtsnap2file"></a><span class="handler-type">command </span><span class="handler-name">qtSaveMovieSnapShotToFile or qtsnap2file </span><span class="handler-params">MovieInputPath, MovieOutputPath, ImageWidth, ImageHeight, Time, UsePoster, MaintainAspectRatio, ExportFormat, ExportQuality</span><br />	<div class="handler-details">		<span class="handler-desc-name">Description:</span>		<div class="handler-desc-body"> Takes a snapshot of the given time in a movie file.</div>		<span class="handler-desc-name">Parameters:</span>		<div class="handler-desc-body">			<span class="param-name">MovieInputPath:</span>			<span class="param-desc">Path to movie.</span><br />			<span class="param-name">MovieOutputPath:</span>			<span class="param-desc">Path to save file to.</span><br />			<span class="param-name">ImageWidth:</span>			<span class="param-desc">Width of image to export.</span><br />			<span class="param-name">ImageHeight:</span>			<span class="param-desc">Height of output image.</span><br />			<span class="param-name">Time:</span>			<span class="param-desc">Time, in movie timescale, to export.</span><br />			<span class="param-name">UsePoster:</span>			<span class="param-desc">Set to true in order to use movie poster rather than provided time.</span><br />			<span class="param-name">MaintainAspectRatio:</span>			<span class="param-desc">Set to true to keep image aspect ratio when resizing.</span><br />			<span class="param-name">ExportFormat:</span>			<span class="param-desc">Picture type to export gif|png|jpeg|photoshop|pict|tiff</span><br />			<span class="param-name">ExportQuality:</span>			<span class="param-desc">Number between 1-100.</span><br />		</div>		<span class="handler-desc-name">Return:</span>		<div class="handler-desc-body">orig width, orig height, new width, new height or error</div>	</div></div></body></html>